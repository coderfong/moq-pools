{
  "name": "moq-pools",
  "version": "0.3.0",
  "private": true,
  "engines": {
    "node": ">=20 <21"
  },
  "scripts": {
    "ensure:admin": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json ADMIN_EMAIL=jonfong78@gmail.com ADMIN_PASSWORD=Jonfong78! node -r ts-node/register -r tsconfig-paths/register scripts/ensureAdminUser.ts",
    "alibaba:build": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/buildAlibabaSeedJobs.ts",
    "alibaba:ingest": "pnpm run alibaba:build && cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/ingestSavedListings.ts --config scripts/catalogue.alibaba.generated.json",
    "alibaba:prime": "pnpm run alibaba:ingest && pnpm run catalog:cache-images",
    "alibaba:refresh:images": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/refreshAlibabaImages.ts --per-subs=1",
    "dev": "next dev -p 3007 --turbo",
    "dev:fresh": "rimraf .next && next dev -p 3007 --turbo",
    "dev:classic": "next dev -p 3007",
    "dev:classic:poll": "cross-env WATCHPACK_POLLING=true CHOKIDAR_USEPOLLING=1 next dev -p 3007",
    "ws": "node websocket-server.js",
    "clean": "rimraf .next",
    "build": "next build",
    "start": "next start",
    "postinstall": "prisma generate",
    "typecheck": "tsc --noEmit",
    "prisma:generate": "prisma generate",
    "prisma:migrate": "prisma migrate dev",
    "prisma:seed": "ts-node prisma/seed.ts",
    "db:seed:saved": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/seedSavedListings.ts",
    "catalog:ingest:config": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/ingestSavedListings.ts --config scripts/catalogue.example.json",
    "catalog:cache-images": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/cacheSavedListingImages.ts --limit=5000",
    "catalog:prime": "pnpm run catalog:ingest:config && pnpm run catalog:cache-images",
    "prewarm": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/prewarmSearches.ts",
    "cleanup:searches": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/cleanupOldSearches.ts",
    "db:trigram": "psql $env:DATABASE_URL -f scripts/createTrigramIndexes.sql",
    "catalog:ingest": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/ingestSavedListings.ts",
    "catalog:build-config": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/buildIngestConfig.ts",
    "catalog:ingest:generated": "pnpm run catalog:build-config && cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/ingestSavedListings.ts --config scripts/catalogue.generated.json",
    "catalog:ingest:generated:headless": "cross-env INGEST_HEADLESS=1 pnpm run catalog:ingest:generated",
    "catalog:build-config:all": "cross-env INGEST_PLATFORM=ALL pnpm run catalog:build-config",
    "catalog:ingest:generated:all": "pnpm run catalog:build-config:all && cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/ingestSavedListings.ts --config scripts/catalogue.generated.json",
    "catalog:prime:generated": "pnpm run catalog:ingest:generated && pnpm run catalog:cache-images",
    "catalog:prime:generated:all": "pnpm run catalog:ingest:generated:all && pnpm run catalog:cache-images",
    "catalog:report:counts": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/reportSavedListingCounts.ts",
    "catalog:build-topoff": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/buildTopoffConfig.ts",
    "catalog:ingest:topoff": "pnpm run catalog:build-topoff && cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/ingestSavedListings.ts --config scripts/catalogue.topoff.json",
    "catalog:prime:topoff": "pnpm run catalog:ingest:topoff && pnpm run catalog:cache-images && pnpm run catalog:report:counts",
    "catalog:set-thumbs": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/setSavedListingThumbnails.ts",
    "catalog:export:csv": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/exportSavedListings.ts",
    "catalog:refresh:alibaba-images": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/refreshAlibabaImages.ts",
    "catalog:heal:details": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/healWeakDetails.ts",
    "catalog:ingest:1688": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/ingestSavedListings.ts --platform C1688 --q \"socks\" --limit 200",
    "prewarm:1688": "cross-env PREWARM_PLATFORMS=C1688 TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/prewarmSearches.ts",
    "catalog:ingest:1688:headless": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/ingestSavedListings.ts --platform C1688 --q \"socks\" --limit 200 --headless 1",
    "catalog:build-config:1688": "cross-env INGEST_PLATFORM=C1688 pnpm run catalog:build-config",
    "catalog:ingest:generated:1688": "pnpm run catalog:build-config:1688 && cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/ingestSavedListings.ts --config scripts/catalogue.generated.json",
    "catalog:prime:generated:1688": "pnpm run catalog:ingest:generated:1688 && pnpm run catalog:cache-images",
    "mic:build": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/buildMicSeedJobs.ts",
    "mic:ingest": "pnpm run mic:build && cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/ingestSavedListings.ts --config scripts/catalogue.mic.generated.json",
    "mic:prime": "pnpm run mic:ingest && pnpm run catalog:cache-images",
    "alibaba:min100": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/ensureMinPerLeaf.ts --platform ALIBABA --min 100 --headless 1 --cache-images 1",
    "mic:min100": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/ensureMinPerLeaf.ts --platform MADE_IN_CHINA --min 100 --headless 1 --cache-images 1",
    "alibaba:min300": "pnpm run alibaba:min100",
    "mic:min300": "pnpm run mic:min100",
    "gs:build": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/buildGlobalSourcesSeedJobs.ts",
    "gs:ingest": "pnpm run gs:build && cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/ingestSavedListings.ts --config scripts/globalsources.seed.json",
    "gs:prime": "pnpm run gs:ingest && pnpm run catalog:cache-images",
    "gs:ingest:headless": "powershell -NoLogo -NoProfile -Command \"$env:GS_HEADLESS='1'; pnpm run gs:ingest\"",
    "gs:debug": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/debugGlobalSources.ts",
    "gs:cookies": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/captureGlobalSourcesCookies.ts",
    "gs:smoke": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/gsHeadlessSmoke.ts",
    "gs:login": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/gsLogin.ts",
    "computers:build": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/buildComputersSeedJobs.ts",
    "computers:ingest": "pnpm run computers:build && cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/ingestSavedListings.ts --config scripts/catalogue.computers.generated.json",
    "computers:prime": "pnpm run computers:ingest && pnpm run catalog:cache-images",
    "capture:1688:cookies": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/capture1688Cookies.ts",
    "verify:1688:cookies": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/verify1688Cookie.ts",
    "dump:1688": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/dump1688.ts --q=袜子",
    "catalog:ingest:c1688:nologin": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/ingestC1688.ts --perCat=160 --concurrency=2 --cacheImages=1",
    "indiamart:jobs": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/buildIndiaMartSeedJobs.ts",
    "indiamart:ingest": "pnpm run indiamart:jobs && cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/ingestSavedListings.ts --config scripts/indiamart.seed.json",
    "indiamart:ingest:headless": "pnpm run indiamart:jobs && cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/ingestSavedListings.ts --config scripts/indiamart.seed.json --headless 1",
    "indiamart:reingest:aggressive": "pnpm run indiamart:bulk -- --limit 500 --terms 3 && pnpm run indiamart:ingest:lives",
    "indiamart:ingest:full": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/ingestIndiaMartFullTree.ts --limit 300 --terms 3 --prefetch 70 --threshold 35 --concurrency 6 --resume im.full.progress.json",
    "indiamart:ingest:full:headless": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/ingestIndiaMartFullTree.ts --limit 380 --terms 4 --prefetch 80 --threshold 40 --concurrency 8 --resume im.full.progress.json --headless",
    "indiamart:topoff:leaves": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/ingestIndiaMartTopoffLeaves.ts --min-target 8 --terms 3 --prefetch 70 --limit 160 --concurrency 6 --resume im.topoff.progress.json --relax --headless",
    "indiamart:bulk": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/ingestIndiaMartBulk.ts --limit 300 --terms 2",
    "indiamart:bulk:aggressive": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/ingestIndiaMartBulk.ts --limit 400 --terms 3 --min-informative 1 --allow-accessories --headless 1",
    "indiamart:bulk:relaxed": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/ingestIndiaMartBulk.ts --limit 420 --terms 3 --min-informative 1 --allow-accessories --headless 1 --no-moq --relaxed --concurrency 6",
    "indiamart:sparse:relaxed": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/ingestIndiaMartSparseLeaves.ts --target 4 --max-current 0 --limit-leaves 160 --prefetch 70 --terms-cap 6 --headless --no-moq --relaxed --concurrency 6",
    "indiamart:report:zero": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/reportIndiaMartZeroLeaves.ts --max 0 --limit 200",
    "indiamart:zero:booster": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/ingestIndiaMartZeroBooster.ts --target 6 --max-current 1 --limit-leaves 140 --prefetch 70 --terms-cap 20 --combos 1 --headless --no-moq --relaxed --concurrency 6",
    "indiamart:coverage": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/ingestIndiaMartEnsureCoverage.ts --stage-a 1 --stage-b 4 --stage-c 8 --concurrency 6",
    "indiamart:topoff": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/ingestIndiaMartTopoffLeaves.ts --min-target 8 --relax 1 --concurrency 6",
    "indiamart:sparse": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/ingestIndiaMartSparseLeaves.ts --target 4 --max-current 0 --limit-leaves 120 --prefetch 70 --terms-cap 5 --headless --debug",
    "ingest:im:group": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register scripts/ingestIndiaMartGroup.ts",
    "indiamart:ingest:cats": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/ingestIndiaMartExportCategories.ts",
    "indiamart:export:search": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/ingestIndiaMartExportSearch.ts",
    "indiamart:remove": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/removeSavedListings.ts",
    "indiamart:ingest:topcats": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/ingestIndiaMartTopCategories.ts",
    "indiamart:print": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register scripts/printIndiaMart.ts",
    "indiamart:ingest:lives": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register scripts/ingestIndiaMartLeavesLive.ts --limit 160 --threshold 40 --terms 2",
    "indiamart:validate": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register scripts/validateIndiaMartListings.ts --concurrency 8",
    "indiamart:prune:low": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register scripts/pruneIndiaMartLowSignalListings.ts --concurrency 8",
    "indiamart:reset": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register scripts/resetIndiaMartListings.ts",
    "indiamart:backfill:images": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register scripts/backfillIndiaMartImages.ts --limit=250",
    "indiamart:refresh:images": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/refreshIndiaMartImages.ts --where-missing=1 --limit=300",
    "indiamart:images:convert": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/convertIndiaMartImagesToJpg.ts --limit=400",
    "indiamart:report:missing-images": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/reportMissingListingImages.ts --platform=INDIAMART --limit=500",
    "indiamart:find:image": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/findListingsByImageHash.ts",
    "indiamart:upgrade:image": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/upgradeIndiaMartListingImage.ts",
    "indiamart:normalize:images": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/normalizeIndiaMartImages.ts --limit=600",
    "indiamart:backfill:bad-images": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/backfillIndiaMartBadImages.ts",
    "indiamart:diagnose:images": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/diagnoseIndiaMartImageQuality.ts --limit=1200 --min-size=220",
    "indiamart:cleanup:bad": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/clearBadIndiaMartImages.ts --dry 0",
    "indiamart:dedupe": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/dedupeIndiaMartListings.ts",
    "indiamart:min300:report": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/validateAndTopoffPerSubcategory.ts",
    "indiamart:min300:topoff": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/validateAndTopoffPerSubcategory.ts --topoff --headless 1",
    "catalog:backfill:details": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/backfillProductDetails.ts",
    "scrapers:test": "cross-env TS_NODE_PROJECT=tsconfig.scripts.json node -r ts-node/register -r tsconfig-paths/register scripts/testScrapers.ts"
  },
  "dependencies": {
    "@auth/prisma-adapter": "^2.11.1",
    "@aws-sdk/client-s3": "^3.916.0",
    "@prisma/client": "^5.18.0",
    "@radix-ui/react-accordion": "^1.2.12",
    "@radix-ui/react-label": "^2.1.8",
    "@radix-ui/react-slider": "^1.3.6",
    "@radix-ui/react-slot": "^1.2.3",
    "@sentry/nextjs": "^10.26.0",
    "@stripe/react-stripe-js": "^5.3.0",
    "@types/bcryptjs": "^3.0.0",
    "bcryptjs": "^3.0.2",
    "cheerio": "^1.0.0-rc.12",
    "class-variance-authority": "^0.7.1",
    "clsx": "^2.1.1",
    "date-fns": "^3.6.0",
    "firebase": "^12.4.0",
    "firebase-admin": "^13.5.0",
    "framer-motion": "^12.23.22",
    "isomorphic-dompurify": "^2.30.1",
    "lucide-react": "^0.452.0",
    "next": "14.2.5",
    "next-auth": "5.0.0-beta.30",
    "nodemailer": "^7.0.9",
    "playwright-extra": "^4.3.6",
    "puppeteer-extra-plugin-stealth": "^2.11.2",
    "react": "18.3.1",
    "react-dom": "18.3.1",
    "react-markdown": "^9.0.1",
    "rehype-sanitize": "^6.0.0",
    "tailwind-merge": "^3.3.1",
    "tailwindcss-animate": "^1.0.7",
    "ws": "^8.18.3",
    "zustand": "^5.0.8"
  },
  "devDependencies": {
    "@stripe/stripe-js": "^8.3.0",
    "@types/node": "^20.12.7",
    "@types/nodemailer": "^6.4.20",
    "@types/react": "^18.2.73",
    "@types/react-dom": "^18.2.23",
    "autoprefixer": "^10.4.19",
    "cross-env": "^10.0.0",
    "dotenv": "^17.2.3",
    "pg": "^8.16.3",
    "playwright": "^1.55.1",
    "postcss": "^8.4.38",
    "prisma": "^5.18.0",
    "rimraf": "^5.0.10",
    "sharp": "^0.33.3",
    "stripe": "^19.3.0",
    "tailwindcss": "^3.4.7",
    "ts-node": "^10.9.2",
    "tsconfig-paths": "^4.2.0",
    "tsx": "^4.20.6",
    "typescript": "^5.4.5"
  },
  "ts-node": {
    "project": "tsconfig.scripts.json",
    "transpileOnly": true
  }
}
